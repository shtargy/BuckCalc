<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC-DC Converter Calculators</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar with calculator selection -->
        <div class="sidebar">
            <h2>Calculators</h2>
            <ul class="calculator-list">
                <li class="calculator-item" data-calculator="buck" onclick="selectCalculator('buck')">
                    Buck Converter
                </li>
                <li class="calculator-item" data-calculator="buck-boost" onclick="selectCalculator('buck-boost')">
                    Inverting Buck-Boost
                </li>
                <li class="calculator-item" data-calculator="divider" onclick="selectCalculator('divider')">
                    Resistor Divider
                </li>
            </ul>
        </div>

        <!-- Main content area -->
        <div class="main-content">
            <!-- Buck Converter Calculator -->
            <div id="buck-calculator" class="calculator">
        <h2>Buck Converter Calculator</h2>
        
        <div class="input-group">
                    <label for="buck-vin">Input Voltage:</label>
                    <input type="number" id="buck-vin" step="0.1">
            <span class="unit">V</span>
            <button class="calc-button" onclick="window.calculateVin()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-vout">Output Voltage:</label>
                    <input type="number" id="buck-vout" step="0.1">
            <span class="unit">V</span>
            <button class="calc-button" onclick="window.calculateVout()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-inductance">Inductance:</label>
                    <input type="number" id="buck-inductance" step="0.1">
            <span class="unit">µH</span>
            <button class="calc-button" onclick="window.calculateL()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-fsw">Switching Freq:</label>
                    <input type="number" id="buck-fsw" step="0.001">
            <span class="unit">MHz</span>
            <button class="calc-button" onclick="window.calculateFsw()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-vdsh">Vds(hi):</label>
                    <input type="number" id="buck-vdsh" step="0.001">
            <span class="unit">V</span>
        </div>

        <div class="input-group">
                    <label for="buck-vdsl">Vds(lo):</label>
                    <input type="number" id="buck-vdsl" step="0.001">
            <span class="unit">V</span>
        </div>

        <div class="input-group">
                    <label for="buck-ilpp">iL(p-p):</label>
                    <input type="number" id="buck-ilpp" step="0.1">
            <span class="unit">A</span>
            <button class="calc-button" onclick="window.calculateIlpp()">Calculate</button>
        </div>
    </div>

            <!-- Inverting Buck-Boost Calculator -->
            <div id="buck-boost-calculator" class="calculator">
                <h2>Inverting Buck-Boost Calculator</h2>
                
                <div class="input-group">
                    <label for="ibb-vin">Input Voltage:</label>
                    <input type="number" id="ibb-vin" step="0.1">
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="window.ibb_calculateVin()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-vout">Output Voltage:</label>
                    <div class="voltage-input-container">
                        <span class="negative-sign">−</span>
                        <input type="number" id="ibb-vout" step="0.1">
                    </div>
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="window.ibb_calculateVout()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-ilavg">IL(avg):</label>
                    <input type="number" id="ibb-ilavg" step="0.1">
                    <span class="unit">A</span>
                    <button class="calc-button" onclick="window.ibb_calculateILavg()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-iout">Output Current:</label>
                    <input type="number" id="ibb-iout" step="0.1">
                    <span class="unit">A</span>
                    <button class="calc-button" onclick="window.ibb_calculateIout()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-inductance">Inductance:</label>
                    <input type="number" id="ibb-inductance" step="0.1">
                    <span class="unit">µH</span>
                    <button class="calc-button" onclick="window.ibb_calculateL()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-fsw">Switching Freq:</label>
                    <input type="number" id="ibb-fsw" step="0.001">
                    <span class="unit">MHz</span>
                    <button class="calc-button" onclick="window.ibb_calculateFsw()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-ilpp">ΔIL:</label>
                    <input type="number" id="ibb-ilpp" step="0.1">
                    <span class="unit">A</span>
                    <button class="calc-button" onclick="window.ibb_calculateDeltaIL()">Calculate</button>
                </div>
            </div>

            <!-- Resistor Divider Calculator -->
            <div id="divider-calculator" class="calculator">
                <h2>Resistor Divider Calculator</h2>
                
                <div class="input-group">
                    <label for="div-vtop">Top Voltage:</label>
                    <input type="number" id="div-vtop" step="0.001">
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="calculateDivider('vtop')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="div-vmid">Middle Voltage:</label>
                    <input type="number" id="div-vmid" step="0.001">
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="calculateDivider('vmid')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="div-vbot">Bottom Voltage:</label>
                    <input type="number" id="div-vbot" step="0.001">
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="calculateDivider('vbot')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="div-rtop">Top Resistor:</label>
                    <input type="number" id="div-rtop" step="0.1">
                    <span class="unit">Ω</span>
                    <button class="calc-button" onclick="calculateDivider('rtop')">Calculate</button>
                    <span class="power-info">(<span id="div-ptop">0.00</span> mW)</span>
                </div>

                <div class="input-group">
                    <label for="div-rbot">Bottom Resistor:</label>
                    <input type="number" id="div-rbot" step="0.1">
                    <span class="unit">Ω</span>
                    <button class="calc-button" onclick="calculateDivider('rbot')">Calculate</button>
                    <span class="power-info">(<span id="div-pbot">0.00</span> mW)</span>
                </div>

                <div class="input-group">
                    <label>Resistor Ratio:</label>
                    <span class="ratio-info"><span id="div-ratio">—</span></span>
                </div>

                <div class="input-group">
                    <label>Current:</label>
                    <span class="current-info"><span id="div-current">0.00</span> mA</span>
                </div>

                <div class="standard-values-group">
                    <label>Snap to closest standard values:</label>
                    <div class="standard-buttons">
                        <button class="standard-button" id="standard-01" onclick="window.showStandardPairs('0.1')">0.1%</button>
                        <button class="standard-button" id="standard-1" onclick="window.showStandardPairs('1')">1%</button>
                        <button class="standard-button" id="standard-5" onclick="window.showStandardPairs('5')">5%</button>
                    </div>
                </div>

                <div id="standard-values-container" style="margin-top: 20px;">
                    <h3 id="standard-values-title">Standard Resistor Pairs:</h3>
                    
                    <div class="sort-controls">
                        <span>Sort by:</span>
                        <button id="sort-by-ratio" class="sort-button active">Ratio Error</button>
                        <button id="sort-by-current" class="sort-button">Current Error</button>
                        <button id="sort-by-topR" class="sort-button">Top R Value</button>
                    </div>
                    
                    <div class="table-container">
                        <table id="standard-values-table" class="standard-pairs-table">
                            <thead>
                                <tr>
                                    <th>Top R (Ω)</th>
                                    <th>Bottom R (Ω)</th>
                                    <th>Ratio</th>
                                    <th>Ratio Error</th>
                                    <th>Vmid (V)</th>
                                    <th>Current (mA)</th>
                                    <th>Current Error</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr id="placeholder-row">
                                    <td colspan="7">Select a tolerance button to see standard resistor pairs</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/calculator-registry.js"></script>
    <script src="js/main.js"></script>
    <script src="js/calculators/divider.js"></script>
    <script src="js/calculators/buck.js"></script>
    <script src="js/calculators/buck-boost.js"></script>
</body>
</html> 