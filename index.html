<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC-DC Converter Calculators</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar with calculator selection -->
        <div class="sidebar">
            <h2>Calculators</h2>
            <ul class="calculator-list">
                <li class="calculator-item" data-calculator="buck" onclick="selectCalculator('buck')">
                    Buck Converter
                </li>
                <li class="calculator-item" data-calculator="boost" onclick="selectCalculator('boost')">
                    Boost Converter
                </li>
                <li class="calculator-item" data-calculator="buck-boost" onclick="selectCalculator('buck-boost')">
                    Inverting Buck-Boost
                </li>
                <li class="calculator-item" data-calculator="divider" onclick="selectCalculator('divider')">
                    Resistor Divider
                </li>
                <li class="calculator-item" data-calculator="res-std-values" onclick="selectCalculator('res-std-values')">
                    Res Std Values
                </li>
                <li class="calculator-item" data-calculator="pcb" onclick="selectCalculator('pcb')">
                    PCB
                </li>
                <li class="calculator-item" data-calculator="wafer" onclick="selectCalculator('wafer')">
                    Wafer Die Cost
                </li>
                <li class="calculator-item" data-calculator="thermal-resistance" onclick="selectCalculator('thermal-resistance')">
                    Thermal Resistance
                </li>
                <li class="calculator-item" data-calculator="rlc" onclick="selectCalculator('rlc')">
                    RLC
                </li>
                <li class="calculator-item" data-calculator="coupled-inductor" onclick="selectCalculator('coupled-inductor')">
                    Coupled Inductors
                </li>
            </ul>
        </div>

        <!-- Main content area -->
        <div class="main-content">
            <!-- Buck Converter Calculator -->
            <div id="buck-calculator" class="calculator">
        <h2>Buck Converter Calculator</h2>
        
        <div class="input-group">
                    <label for="buck-vin">Input Voltage:</label>
                    <input type="number" id="buck-vin" step="0.1">
            <span class="unit">V</span>
            <button class="calc-button" onclick="window.calculateVin()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-vout">Output Voltage:</label>
                    <input type="number" id="buck-vout" step="0.1">
            <span class="unit">V</span>
            <button class="calc-button" onclick="window.calculateVout()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-inductance">Inductance:</label>
                    <input type="number" id="buck-inductance" step="0.1">
            <span class="unit">µH</span>
            <button class="calc-button" onclick="window.calculateL()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-fsw">Switching Freq:</label>
                    <input type="number" id="buck-fsw" step="0.001">
            <span class="unit">MHz</span>
            <button class="calc-button" onclick="window.calculateFsw()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-vdsh">Vds(hi):</label>
                    <input type="number" id="buck-vdsh" step="0.001">
            <span class="unit">V</span>
        </div>

        <div class="input-group">
                    <label for="buck-vdsl">Vds(lo):</label>
                    <input type="number" id="buck-vdsl" step="0.001">
            <span class="unit">V</span>
        </div>

        <div class="input-group">
                    <label for="buck-ilpp">iL(p-p):</label>
                    <input type="number" id="buck-ilpp" step="0.1">
            <span class="unit">A</span>
            <button class="calc-button" onclick="window.calculateIlpp()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-duty">Duty Cycle:</label>
                    <input type="number" id="buck-duty" step="0.001" readonly>
            <span class="unit">%</span>
            <button class="calc-button" onclick="window.calculateDutyCycle()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="buck-ton">Ton:</label>
                    <input type="number" id="buck-ton" step="0.001" readonly>
            <span class="unit">µs</span>
            <button class="calc-button" onclick="window.calculateTon()">Calculate</button>
        </div>
    </div>

            <!-- Boost Converter Calculator -->
            <div id="boost-calculator" class="calculator">
        <h2>Boost Converter Calculator</h2>
        
        <div class="input-group">
                    <label for="boost-vin">Input Voltage:</label>
                    <input type="number" id="boost-vin" step="0.1">
            <span class="unit">V</span>
            <button class="calc-button" onclick="window.calculateBoostVin()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="boost-vout">Output Voltage:</label>
                    <input type="number" id="boost-vout" step="0.1">
            <span class="unit">V</span>
            <button class="calc-button" onclick="window.calculateBoostVout()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="boost-inductance">Inductance:</label>
                    <input type="number" id="boost-inductance" step="0.1">
            <span class="unit">µH</span>
            <button class="calc-button" onclick="window.calculateBoostL()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="boost-fsw">Switching Freq:</label>
                    <input type="number" id="boost-fsw" step="0.001">
            <span class="unit">MHz</span>
            <button class="calc-button" onclick="window.calculateBoostFsw()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="boost-vdsh">Vds(hi):</label>
                    <input type="number" id="boost-vdsh" step="0.001">
            <span class="unit">V</span>
        </div>

        <div class="input-group">
                    <label for="boost-vdsl">Vds(lo):</label>
                    <input type="number" id="boost-vdsl" step="0.001">
            <span class="unit">V</span>
        </div>

        <div class="input-group">
                    <label for="boost-ilpp">iL(p-p):</label>
                    <input type="number" id="boost-ilpp" step="0.1">
            <span class="unit">A</span>
            <button class="calc-button" onclick="window.calculateBoostIlpp()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="boost-iout">Load Current:</label>
                    <input type="number" id="boost-iout" step="0.1">
            <span class="unit">A</span>
            <button class="calc-button" onclick="window.calculateBoostIout()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="boost-ilavg">IL(avg):</label>
                    <input type="number" id="boost-ilavg" step="0.1">
            <span class="unit">A</span>
            <button class="calc-button" onclick="window.calculateBoostILavg()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="boost-duty">Duty Cycle:</label>
                    <input type="number" id="boost-duty" step="0.001" readonly>
            <span class="unit">%</span>
            <button class="calc-button" onclick="window.calculateBoostDutyCycle()">Calculate</button>
        </div>

        <div class="input-group">
                    <label for="boost-ton">Ton:</label>
                    <input type="number" id="boost-ton" step="0.001" readonly>
            <span class="unit">µs</span>
            <button class="calc-button" onclick="window.calculateBoostTon()">Calculate</button>
        </div>
            </div>

            <!-- Inverting Buck-Boost Calculator -->
            <div id="buck-boost-calculator" class="calculator">
                <h2>Inverting Buck-Boost Calculator</h2>
                
                <div class="input-group">
                    <label for="ibb-vin">Input Voltage:</label>
                    <input type="number" id="ibb-vin" step="0.1">
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="window.ibb_calculateVin()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-vout">Output Voltage:</label>
                    <div class="voltage-input-container">
                        <span class="negative-sign">−</span>
                        <input type="number" id="ibb-vout" step="0.1">
                    </div>
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="window.ibb_calculateVout()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-iout">Output Current:</label>
                    <input type="number" id="ibb-iout" step="0.1">
                    <span class="unit">A</span>
                    <button class="calc-button" onclick="window.ibb_calculateIout()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-inductance">Inductance:</label>
                    <input type="number" id="ibb-inductance" step="0.1">
                    <span class="unit">µH</span>
                    <button class="calc-button" onclick="window.ibb_calculateL()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-fsw">Switching Freq:</label>
                    <input type="number" id="ibb-fsw" step="0.001">
                    <span class="unit">MHz</span>
                    <button class="calc-button" onclick="window.ibb_calculateFsw()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-ilavg">IL(avg):</label>
                    <input type="number" id="ibb-ilavg" step="0.1">
                    <span class="unit">A</span>
                    <button class="calc-button" onclick="window.ibb_calculateILavg()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-ilpp">ΔIL:</label>
                    <input type="number" id="ibb-ilpp" step="0.1">
                    <span class="unit">A</span>
                    <button class="calc-button" onclick="window.ibb_calculateDeltaIL()">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="ibb-duty">Duty Cycle:</label>
                    <input type="number" id="ibb-duty" step="0.01" readonly>
                    <span class="unit">%</span>
                    <button class="calc-button" onclick="window.ibb_calculateDutyCycle()">Calculate</button>
                </div>
            </div>

            <!-- Resistor Divider Calculator -->
            <div id="divider-calculator" class="calculator">
                <h2>Resistor Divider Calculator</h2>
                
                <div class="input-group">
                    <label for="div-vtop">Top Voltage:</label>
                    <input type="number" id="div-vtop" step="0.001">
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="calculateDivider('vtop')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="div-vmid">Middle Voltage:</label>
                    <input type="number" id="div-vmid" step="0.001">
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="calculateDivider('vmid')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="div-vbot">Bottom Voltage:</label>
                    <input type="number" id="div-vbot" step="0.001">
                    <span class="unit">V</span>
                    <button class="calc-button" onclick="calculateDivider('vbot')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="div-rtop">Top Resistor:</label>
                    <input type="number" id="div-rtop" step="0.1">
                    <span class="unit">Ω</span>
                    <button class="calc-button" onclick="calculateDivider('rtop')">Calculate</button>
                    <span class="power-info">(<span id="div-ptop">0.00</span> mW)</span>
                </div>

                <div class="input-group">
                    <label for="div-rbot">Bottom Resistor:</label>
                    <input type="number" id="div-rbot" step="0.1">
                    <span class="unit">Ω</span>
                    <button class="calc-button" onclick="calculateDivider('rbot')">Calculate</button>
                    <span class="power-info">(<span id="div-pbot">0.00</span> mW)</span>
                </div>

                <div class="input-group">
                    <label>Resistor Ratio:</label>
                    <span class="ratio-info"><span id="div-ratio">—</span></span>
                </div>

                <div class="input-group">
                    <label>Current:</label>
                    <span class="current-info"><span id="div-current">0.00</span> mA</span>
                </div>

                <div class="standard-values-group">
                    <label>Snap to closest standard values:</label>
                    <div class="standard-buttons">
                        <button class="standard-button" id="standard-01" onclick="window.showStandardPairs('0.1')">0.1%</button>
                        <button class="standard-button" id="standard-1" onclick="window.showStandardPairs('1')">1%</button>
                        <button class="standard-button" id="standard-5" onclick="window.showStandardPairs('5')">5%</button>
                    </div>
                </div>

                <div id="standard-values-container" style="margin-top: 20px;">
                    <h3 id="standard-values-title">Standard Resistor Pairs:</h3>
                    
                    <div class="sort-controls">
                        <span>Sort by:</span>
                        <button id="sort-by-ratio" class="sort-button active">Ratio Error</button>
                        <button id="sort-by-current" class="sort-button">Current Error</button>
                        <button id="sort-by-topR" class="sort-button">Top R Value</button>
                    </div>
                    
                    <div class="table-container">
                        <table id="standard-values-table" class="standard-pairs-table">
                            <thead>
                                <tr>
                                    <th>Top R (Ω)</th>
                                    <th>Bottom R (Ω)</th>
                                    <th>Ratio</th>
                                    <th>Ratio Error</th>
                                    <th>Vmid (V)</th>
                                    <th>Current (mA)</th>
                                    <th>Current Error</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr id="placeholder-row">
                                    <td colspan="7">Select a tolerance button to see standard resistor pairs</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Res Std Values Calculator -->
            <div id="res-std-values-calculator" class="calculator">
                <h2>Standard Resistor Finder</h2>
                
                <div class="input-group">
                    <label for="rsv-target-resistor">Target Resistor Value:</label>
                    <input type="number" id="rsv-target-resistor" step="any">
                    <span class="unit">Ω</span>
                </div>

                <div class="input-group">
                    <label for="rsv-voltage">Voltage (for Current):</label>
                    <input type="number" id="rsv-voltage" step="any">
                    <span class="unit">V</span>
                </div>

                <div class="standard-values-group">
                    <label>Find Standard Values (Tolerance):</label>
                    <div class="standard-buttons">
                        <button class="standard-button" id="rsv-std-01" onclick="window.rsv_findStandardValues('0.1')">0.1%</button>
                        <button class="standard-button" id="rsv-std-1" onclick="window.rsv_findStandardValues('1')">1%</button>
                        <button class="standard-button" id="rsv-std-5" onclick="window.rsv_findStandardValues('5')">5%</button>
                    </div>
                </div>

                <div id="rsv-table-container" style="margin-top: 20px;">
                    <h3 id="rsv-table-title">Nearby Standard Resistor Values:</h3>
                    <div class="table-container">
                        <table id="rsv-values-table" class="standard-pairs-table"> <!-- Reusing class for styling -->
                            <thead>
                                <tr>
                                    <th>Standard Value (Ω)</th>
                                    <th>Error (%)</th>
                                    <th id="rsv-current-col-header">Current (mA)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Rows will be added here by JavaScript -->
                                <tr id="rsv-placeholder-row">
                                    <td colspan="3">Enter a target resistor and select a tolerance.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- PCB Calculator -->
            <div id="pcb-calculator" class="calculator">
                <h2>PCB Calculator</h2>
                
                <!-- Trace Resistance Section -->
                <div class="calculator-section">
                    <h3>Copper Trace Resistance</h3>
                    
                    <div class="input-group">
                        <label for="pcb-trace-temperature">Temperature:</label>
                        <input type="number" id="pcb-trace-temperature" step="1" value="20">
                        <span class="unit">°C</span>
                        <span></span>
                    </div>
                    
                    <div class="input-group">
                        <label for="pcb-trace-length">Trace Length:</label>
                        <input type="number" id="pcb-trace-length" step="0.1">
                        <span class="unit">mm</span>
                        <button class="calc-button" onclick="window.calculateTraceLength()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="pcb-trace-width">Trace Width:</label>
                        <input type="number" id="pcb-trace-width" step="0.01">
                        <span class="unit">mm</span>
                        <button class="calc-button" onclick="window.calculateTraceWidth()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="pcb-trace-thickness">Copper Thickness:</label>
                        <input type="number" id="pcb-trace-thickness" step="0.1">
                        <span class="unit">µm</span>
                        <button class="calc-button" onclick="window.calculateTraceThickness()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="pcb-trace-resistance">Resistance:</label>
                        <input type="number" id="pcb-trace-resistance" step="0.001">
                        <span class="unit">mΩ</span>
                        <button class="calc-button" onclick="window.calculateTraceResistance()">Calculate</button>
                    </div>
                </div>
                
                <!-- Via Resistance Section -->
                <div class="calculator-section">
                    <h3>Via Resistance</h3>
                    
                    <div class="input-group">
                        <label for="pcb-via-temperature">Temperature:</label>
                        <input type="number" id="pcb-via-temperature" step="1" value="20">
                        <span class="unit">°C</span>
                        <span></span>
                    </div>
                    
                    <div class="input-group">
                        <label for="pcb-via-diameter">Outer Diameter:</label>
                        <input type="number" id="pcb-via-diameter" step="0.01">
                        <span class="unit">mm</span>
                        <button class="calc-button" onclick="window.calculateViaOuterDiameter()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="pcb-via-wall">Wall Thickness:</label>
                        <input type="number" id="pcb-via-wall" step="0.01">
                        <span class="unit">mm</span>
                        <button class="calc-button" onclick="window.calculateViaWallThickness()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="pcb-via-height">Via Height:</label>
                        <input type="number" id="pcb-via-height" step="0.01">
                        <span class="unit">mm</span>
                        <button class="calc-button" onclick="window.calculateViaHeight()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="pcb-via-resistance">Resistance:</label>
                        <input type="number" id="pcb-via-resistance" step="0.001">
                        <span class="unit">mΩ</span>
                        <button class="calc-button" onclick="window.calculateViaResistance()">Calculate</button>
                    </div>
                </div>
            </div>

            <!-- Wafer Die Cost Calculator -->
            <div id="wafer-calculator" class="calculator">
                <h2>Wafer Die Cost Calculator</h2>

                <h3>Die Specifications</h3>
                <div class="input-group">
                    <label for="wafer-die-area">Die XY Area (mm²):</label>
                    <input type="number" id="wafer-die-area" step="any">
                    <span></span>
                    <button class="calc-button" onclick="window.calculateXYFromArea()">Root XY</button>
                </div>

                <div class="input-group">
                    <label for="wafer-die-x">Die Size X:</label>
                    <input type="number" id="wafer-die-x" step="0.1">
                    <span class="unit">mm</span>
                    <button class="calc-button" onclick="window.calculateDieX()">Calculate</button>
                </div>
                
                <div class="input-group">
                    <label for="wafer-die-y">Die Size Y:</label>
                    <input type="number" id="wafer-die-y" step="0.1">
                    <span class="unit">mm</span>
                    <button class="calc-button" onclick="window.calculateDieY()">Calculate</button>
                </div>
                
                <div class="input-group">
                    <label for="wafer-saw-street">Saw Street:</label>
                    <input type="number" id="wafer-saw-street" step="0.1">
                    <span class="unit">µm</span>
                    <button class="calc-button" onclick="window.calculateSawStreet()">Calculate</button>
                </div>
                
                <div class="input-group">
                    <label for="wafer-yield">Yield:</label>
                    <input type="number" id="wafer-yield" step="0.1">
                    <span class="unit">%</span>
                    <button class="calc-button" onclick="window.calculateYield()">Calculate</button>
                </div>
                
                <div class="input-group">
                    <label for="wafer-rds">Rds(on) x mm²:</label>
                    <input type="number" id="wafer-rds" step="0.001">
                    <span class="unit">mΩ·mm²</span>
                    <button class="calc-button" onclick="window.calculateRds()">Calculate</button>
                </div>

                <h3>Wafer Specifications</h3>
                <div class="input-group">
                    <label for="wafer-size">Wafer Size:</label>
                    <select id="wafer-size" style="width: 140px; height: 32px; padding: 5px; border: 1px solid #ccc; border-radius: 4px;">
                        <option value="150">150 mm</option>
                        <option value="200">200 mm</option>
                        <option value="300" selected>300 mm</option>
                    </select>
                    <span class="unit">mm</span>
                    <button class="calc-button" onclick="window.calculateWaferSize()">Calculate</button>
                </div>
                
                <div class="input-group">
                    <label for="wafer-edge-keepout">Edge Keepout:</label>
                    <input type="number" id="wafer-edge-keepout" step="0.1">
                    <span class="unit">mm</span>
                    <button class="calc-button" onclick="window.calculateEdgeKeepout()">Calculate</button>
                </div>
                
                <div class="input-group">
                    <label for="wafer-cost">Wafer Cost:</label>
                    <input type="number" id="wafer-cost" step="0.01">
                    <span class="unit">$</span>
                    <button class="calc-button" onclick="window.calculateWaferCost()">Calculate</button>
                </div>

                <div class="calculator-section">
                    <h3>Performance Metrics</h3>
                    
                    <div class="input-group">
                        <label for="wafer-gross-dies">Gross Die Per Wafer:</label>
                        <input type="number" id="wafer-gross-dies" readonly>
                        <span class="unit">dies</span>
                        <button class="calc-button" onclick="window.calculateGrossDies()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="wafer-yielded-dies">Yielded Die Per Wafer:</label>
                        <input type="number" id="wafer-yielded-dies" readonly>
                        <span class="unit">dies</span>
                        <button class="calc-button" onclick="window.calculateYieldedDies()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="wafer-cost-per-die">Yielded Cost Per Die:</label>
                        <input type="number" id="wafer-cost-per-die" readonly>
                        <span class="unit">$</span>
                        <button class="calc-button" onclick="window.calculateCostPerDie()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="wafer-cents-per-mm">Cents/mm² of Wafer:</label>
                        <input type="number" id="wafer-cents-per-mm" readonly>
                        <span class="unit">¢/mm²</span>
                        <button class="calc-button" onclick="window.calculateCentsPerMm()">Calculate</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="wafer-power-fet-cents">Power FET cents·mΩ:</label>
                        <input type="number" id="wafer-power-fet-cents" readonly>
                        <span class="unit">¢·mΩ</span>
                        <button class="calc-button" onclick="window.calculatePowerFetCents()">Calculate</button>
                    </div>
                </div>
            </div>

            <!-- Thermal Resistance Calculator -->
            <div id="thermal-resistance-calculator" class="calculator">
                <h2>Thermal Resistance Calculator</h2>
                <p>Calculates the thermal resistance of a rectangular prism along the Z-direction.</p>
                
                <div class="input-group">
                    <label for="thermal-x">X Dimension:</label>
                    <input type="number" id="thermal-x" step="any">
                    <span class="unit">mm</span>
                    <button class="calc-button" onclick="window.calculateThermalResistance('X')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="thermal-y">Y Dimension:</label>
                    <input type="number" id="thermal-y" step="any">
                    <span class="unit">mm</span>
                    <button class="calc-button" onclick="window.calculateThermalResistance('Y')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="thermal-z">Z Dimension:</label>
                    <input type="number" id="thermal-z" step="any">
                    <span class="unit">mm</span>
                     <button class="calc-button" onclick="window.calculateThermalResistance('Z')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="thermal-k">Thermal Conductivity:</label>
                    <input type="number" id="thermal-k" step="any">
                    <span class="unit">W/(m·K)</span>
                     <button class="calc-button" onclick="window.calculateThermalResistance('K')">Calculate</button>
                </div>

                <div class="input-group">
                    <label for="thermal-rth">Thermal Resistance:</label>
                    <input type="number" id="thermal-rth" step="any">
                    <span class="unit">K/W</span>
                     <button class="calc-button" onclick="window.calculateThermalResistance('Rth')">Calculate</button>
                </div>

                <p id="thermal-error" class="error-message"></p>
            </div>

            <!-- RLC Calculator -->
            <div id="rlc-calculator" class="calculator">
                <h2>RLC Calculator</h2>

                <!-- RC Time Constant & Cutoff Frequency Section -->
                <div id="rc-calc" class="calculator-section">
                    <h3>RC Time Constant & Cutoff Frequency</h3>
                    <p>Calculates the time constant (τ) and cutoff frequency (f<sub>c</sub>) of an RC circuit.</p>
                    
                    <div class="input-group-sci">
                        <label for="rc-r-val">Resistance (R):</label>
                        <input type="number" step="any" id="rc-r-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="rc-r-exp" placeholder="Exp">
                        <span class="unit">Ω</span>
                    </div>

                    <div class="input-group-sci">
                        <label for="rc-c-val">Capacitance (C):</label>
                        <input type="number" step="any" id="rc-c-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="rc-c-exp" placeholder="Exp">
                        <span class="unit">F</span>
                    </div>

                    <button class="calc-button" onclick="calculateRC()">Calculate τ & f<sub>c</sub></button>

                    <div class="result-group-sci">
                        <label for="rc-tau-val">Time Constant (τ):</label>
                        <input type="number" step="any" id="rc-tau-val" readonly placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="rc-tau-exp" readonly placeholder="Exp">
                        <span class="unit">s</span>
                    </div>

                     <div class="result-group-sci">
                        <label for="rc-fc-val">Cutoff Frequency (f<sub>c</sub>):</label>
                        <input type="number" step="any" id="rc-fc-val" readonly placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="rc-fc-exp" readonly placeholder="Exp">
                        <span class="unit">Hz</span>
                    </div>

                    <div id="rc-error" class="error-message"></div>
                </div>

                <hr>

                <!-- Reactance Calculator Section -->
                <div id="reactance-calc" class="calculator-section">
                    <h3>Reactance Calculator</h3>
                    <p>Calculate capacitive reactance (X<sub>c</sub> = 1/(2πfC)) or inductive reactance (X<sub>L</sub> = 2πfL) or related variables. Provide the known values and click calculate for the unknown.</p>

                    <div class="input-group-sci">
                        <label for="reactance-f-val">Frequency (f):</label>
                        <input type="number" step="any" id="reactance-f-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="reactance-f-exp" placeholder="Exp">
                        <span class="unit">Hz</span>
                        <button class="calc-button" onclick="calculateReactance('f')">Calculate</button>
                    </div>

                    <div class="input-group-sci">
                        <label for="reactance-c-val">Capacitance (C):</label>
                        <input type="number" step="any" id="reactance-c-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="reactance-c-exp" placeholder="Exp">
                        <span class="unit">F</span>
                        <button class="calc-button" onclick="calculateReactance('C')">Calculate</button>
                    </div>

                    <div class="input-group-sci">
                        <label for="reactance-l-val">Inductance (L):</label>
                        <input type="number" step="any" id="reactance-l-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="reactance-l-exp" placeholder="Exp">
                        <span class="unit">H</span>
                        <button class="calc-button" onclick="calculateReactance('L')">Calculate</button>
                    </div>

                    <div class="input-group-sci">
                        <label for="reactance-xc-val">Capacitive Reactance (X<sub>c</sub>):</label>
                        <input type="number" step="any" id="reactance-xc-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="reactance-xc-exp" placeholder="Exp">
                        <span class="unit">Ω</span>
                        <button class="calc-button" onclick="calculateReactance('Xc')">Calculate</button>
                    </div>

                    <div class="input-group-sci">
                        <label for="reactance-xl-val">Inductive Reactance (X<sub>L</sub>):</label>
                        <input type="number" step="any" id="reactance-xl-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="reactance-xl-exp" placeholder="Exp">
                        <span class="unit">Ω</span>
                        <button class="calc-button" onclick="calculateReactance('XL')">Calculate</button>
                    </div>

                    <div id="reactance-error" class="error-message"></div>
                </div>

                <hr>

                <!-- LC Resonance Calculator Section -->
                <div id="lc-calc" class="calculator-section">
                    <h3>LC Resonance Calculator</h3>
                    <p>Calculate the resonant frequency (f<sub>0</sub> = 1/(2π√(LC))) or related LC components. Provide two values to solve for the third.</p>
                    
                    <div class="input-group-sci">
                        <label for="lc-l-val">Inductance (L):</label>
                        <input type="number" step="any" id="lc-l-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="lc-l-exp" placeholder="Exp">
                        <span class="unit">H</span>
                        <button class="calc-button" onclick="calculateLC('L')">Calculate</button>
                    </div>

                    <div class="input-group-sci">
                        <label for="lc-c-val">Capacitance (C):</label>
                        <input type="number" step="any" id="lc-c-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="lc-c-exp" placeholder="Exp">
                        <span class="unit">F</span>
                        <button class="calc-button" onclick="calculateLC('C')">Calculate</button>
                    </div>

                    <div class="input-group-sci">
                        <label for="lc-f0-val">Resonant Frequency (f<sub>0</sub>):</label>
                        <input type="number" step="any" id="lc-f0-val" placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="lc-f0-exp" placeholder="Exp">
                        <span class="unit">Hz</span>
                        <button class="calc-button" onclick="calculateLC('f0')">Calculate</button>
                    </div>
                    
                    <div id="lc-error" class="error-message"></div>
                </div>

                <hr>

                <!-- Series/Parallel Component Calculator Section -->
                <div class="calculator-section">
                    <h3>Series/Parallel Component Calculator</h3>
                    <p>Calculate the equivalent resistance, inductance, or capacitance of components connected in series or parallel.</p>
                    
                    <div class="input-group">
                        <label>Connection Type:</label>
                        <select id="equiv-connection">
                            <option value="series">Series</option>
                            <option value="parallel">Parallel</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label>Component Type:</label>
                        <select id="equiv-type">
                            <option value="R">Resistor</option>
                            <option value="L">Inductor</option>
                            <option value="C">Capacitor</option>
                        </select>
                    </div>

                    <div id="equiv-inputs">
                        <!-- Dynamic input fields will be added here -->
                    </div>
                    
                    <!-- Container for action buttons -->
                    <div class="equiv-actions">
                         <button class="calc-button add-component-button" id="equiv-add-button">Add Component</button>
                        <button class="calc-button" onclick="calculateEquivalent()">Calculate Equivalent</button>
                    </div>

                    <div class="result-group-sci">
                        <label for="equiv-result-val">Equivalent Value:</label>
                        <input type="number" step="any" id="equiv-result-val" readonly placeholder="Value">
                        <span class="exponent-label"> × 10^</span>
                        <input type="number" step="1" id="equiv-result-exp" readonly placeholder="Exp">
                        <span class="unit" id="equiv-unit">Ω</span>
                    </div>

                    <div id="equiv-error" class="error-message"></div>
                </div>
            </div>

            <!-- Coupled Inductor Ripple Current Calculator Section -->
            <div id="coupled-inductor-calculator" class="calculator">
                <h2>Coupled Inductor Ripple</h2>
                <p>Calculates the ripple current for discrete (`dIL_DL`) and coupled (`dIL_CL`) inductors in a multiphase buck converter topology, based on input/output voltages, inductance values, frequency, and phase count.</p>
                
                <div class="input-group-sci">
                    <label for="ci-vin-val">Input Voltage (V<sub>IN</sub>):</label>
                    <input type="number" step="any" id="ci-vin-val" placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-vin-exp" placeholder="Exp">
                    <span class="unit">V</span>
                </div>
                <div class="input-group-sci">
                    <label for="ci-vout-val">Output Voltage (V<sub>OUT</sub>):</label>
                    <input type="number" step="any" id="ci-vout-val" placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-vout-exp" placeholder="Exp">
                    <span class="unit">V</span>
                </div>
                <div class="input-group-sci">
                    <label for="ci-lm-val">Mutual Inductance (L<sub>m</sub>):</label>
                    <input type="number" step="any" id="ci-lm-val" placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-lm-exp" placeholder="Exp">
                    <span class="unit">H</span>
                </div>
                <div class="input-group-sci">
                    <label for="ci-l-val">Self Inductance (L):</label>
                    <input type="number" step="any" id="ci-l-val" placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-l-exp" placeholder="Exp">
                    <span class="unit">H</span>
                </div>
                 <div class="input-group-sci">
                    <label for="ci-fs-val">Switching Frequency (F<sub>S</sub>):</label>
                    <input type="number" step="any" id="ci-fs-val" placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-fs-exp" placeholder="Exp">
                    <span class="unit">Hz</span>
                </div>
                 <div class="input-group-sci">
                    <label for="ci-nph-val">Number of Phases (N<sub>ph</sub>):</label>
                    <input type="number" step="1" id="ci-nph-val" placeholder="Value" min="2">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" value="0" id="ci-nph-exp" placeholder="Exp" readonly> <!-- Exponent is always 0 for Nph -->
                    <span class="unit"></span>
                </div>

                <div class="calc-button-container">
                     <button class="calc-button" onclick="calculateCoupledInductorRipple()">Calculate Ripple Currents</button>
                </div>

                <!-- Intermediate Results -->
                <div class="result-group-sci">
                    <label for="ci-d-val">Duty Cycle (D):</label>
                    <input type="number" step="any" id="ci-d-val" readonly placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-d-exp" readonly placeholder="Exp">
                    <span class="unit"></span> <!-- Unitless -->
                </div>
                 <div class="result-group-sci">
                    <label for="ci-fom-val">Figure of Merit (FOM):</label>
                    <input type="number" step="any" id="ci-fom-val" readonly placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-fom-exp" readonly placeholder="Exp">
                    <span class="unit"></span> <!-- Unitless -->
                </div>

                <!-- Final Results -->
                <div class="result-group-sci">
                    <label for="ci-dildl-val">Discrete Ripple (dIL<sub>DL</sub>):</label>
                    <input type="number" step="any" id="ci-dildl-val" readonly placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-dildl-exp" readonly placeholder="Exp">
                    <span class="unit">A</span>
                </div>
                <div class="result-group-sci">
                    <label for="ci-dilcl-val">Coupled Ripple (dIL<sub>CL</sub>):</label>
                    <input type="number" step="any" id="ci-dilcl-val" readonly placeholder="Value">
                    <span class="exponent-label"> × 10^</span>
                    <input type="number" step="1" id="ci-dilcl-exp" readonly placeholder="Exp">
                    <span class="unit">A</span>
                </div>

                <div id="ci-error" class="error-message"></div>
            </div>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/calculator-registry.js"></script>
    <script src="js/main.js"></script>
    <script src="js/calculators/divider.js"></script>
    <script src="js/calculators/buck.js"></script>
    <script src="js/calculators/boost.js"></script>
    <script src="js/calculators/buck-boost.js"></script>
    <script src="js/calculators/res-std-values.js"></script>
    <script src="js/calculators/pcb.js"></script>
    <script src="js/calculators/wafer.js"></script>
    <script src="js/calculators/thermal_resistance.js"></script>
    <script src="js/calculators/rlc.js"></script>
    <script src="js/calculators/coupled_inductors.js"></script>
</body>
</html> 